<div class="row">
    <div class="col-7 offset-3 mb-5 d-flex flex-row justify-content-between p-0 gap-2">
      <a [routerLink]="['/list-products']" class="btn btn-warning d-flex align-items-center">
        <i class="bi bi-arrow-return-left"></i>
      </a>
      <div class="main-tittle" (click)="test();">
          <h1 class="text-white">Creating Product / Service</h1>
      </div>
    </div>
    <div class="col-7 offset-3 border-secondary">
        <form [formGroup]="mainForm" (ngSubmit)="create();">

            <div class="form-row mb-3">
              <div class="form-group">
                <label for="name">
                  Name <field-validation-mark [isValid]="!name.touched || name.valid"/>
                </label>
                <input type="text" class="form-control" placeholder="Name" id="name" formControlName="name" required>

                <div class="text-danger">
                  @if (name.invalid && (name.dirty || name.touched)) {
                    @if (name.hasError('required')) {
                      The name is obligatory.
                    }
                  }
                </div>

              </div>
            </div>

            <div class="form-row mb-3">
              <div class="form-group">
                <label for="detail">
                  Detail <field-validation-mark [isValid]="!detail.touched || detail.valid"/>
                </label>
                <textarea class="form-control" aria-label="With textarea" id="detail" formControlName="detail" required></textarea>

                <div class="text-danger">
                  @if (detail.invalid && (detail.dirty || detail.touched)) {
                    @if (detail.hasError('required')) {
                      * The detail is obligatory.
                    }
                  }
                </div>

              </div>
            </div>

            <div class="form-row mb-3">
              <div class="input-group">
                <select class="custom-select" id="typeCurrencyId" formControlName="typeCurrencyId">
                  @if (model.listTypeCurrencies.length == 0) 
                  {
                    <option [value]="0" selected>No currencies aviable</option>
                  } 
                  @for (typeCurrency of model.listTypeCurrencies; track $index) {
                    <option [value]="typeCurrency.documentId" [selected]="typeCurrency.documentId == model.typeCurrencyId">{{typeCurrency.ISO2}}</option>
                  }
                </select>
                <div class="input-group-append">
                  <label class="input-group-text gap-1" for="typeCurrencyId">
                    Currency <field-validation-mark [isValid]="true"/>
                  </label>
                </div>
              </div>
              <div class="text-danger">
                @if (typeCurrencyId.invalid && (typeCurrencyId.dirty || typeCurrencyId.touched)) {
                  @if (typeCurrencyId.hasError('max')) {
                    This option is not valid
                  }
                }
              </div>
            </div>

            <div class="form-row mb-3">
              <div class="input-group">
                <select class="custom-select" id="typePaymentId" formControlName="typePaymentId">
                  @if (model.listTypePayments.length == 0) 
                  {
                    <option [value]="0" selected>No payments aviable</option>
                  } 
                  @for (typePayment of model.listTypePayments; track $index) {
                    <option [value]="typePayment.documentId" [selected]="typePayment.documentId == model.typePaymentId">{{typePayment.name}}</option>
                  }
                </select>
                <div class="input-group-append">
                  <label class="input-group-text" for="typePaymentId">Payment</label>
                </div>
              </div>
            </div>

            <div class="form-row mb-3">
              <div class="form-group mb-1">
                <label for="implementationCost">Implementation Cost</label>
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">$</span>
                </div>
                <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" id="implementationCost" formControlName="implementationCost">
              </div>
            </div>

            <div class="form-row mb-3">
              <div class="form-group mb-1">
                <label for="instalationCost">Instalation Cost</label>
              </div>
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text">$ </span>
                </div>
                <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" id="instalationCost" formControlName="instalationCost">
              </div>
            </div>


            


            <div class="input-group mb-5">
              <div class="form-row mb-3">
                <div class="form-group mb-1">
                  <label for="regularPrice">Regular price</label>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">$</span>
                  </div>
                  <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" id="regularPrice" formControlName="regularPrice">
                </div>
              </div>
  
              <div class="form-row mb-3">
                <div class="form-group mb-1">
                  <label for="advancePrice">Advance price</label>
                </div>
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">$</span>
                  </div>
                  <input type="text" class="form-control" aria-label="Amount (to the nearest dollar)" id="advancePrice" formControlName="advancePrice">
                </div>
              </div>
            </div>

            
            <button type="submit" class="btn btn-primary float-end" [disabled]="!mainForm.valid">Create</button>

          </form>
    </div>
</div>